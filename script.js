// Portfolio projects data
const projects = [
  {
    "name": "COMFORT (2021)",
    "description": "This photo is very special to me. It's one of my favorite captures of my cat, who passed away in 2024. This was taken before Christmas (around November 2021). I like the lighting in this picture because the warm glow reminds me of his comforting presence and the joy he gave me. I chose this photo because it keeps his memory alive in a simple but meaningful way.",
    "image": "projects/comfort.jpg",
    "tags": [
      "Cat",
      "Comfort",
      "Pet"
    ]
  },
  {
    "name": "CHROMATIC PAUSE",
    "description": "I captured this gas station because the colors and light made an ordinary place feel cinematic. It reminded me how beauty can exist in the most unexpected corners.",
    "image": "projects/chromatic_pause.jpg",
    "tags": [
      "Night",
      "Light",
      "Station"
    ]
  },
  {
    "name": "UNSCRIPTED ELEGANCE",
    "description": "No suit, no stage, just a polo, a tie, and a quiet smile. Confidence doesn't need perfection, only presence.",
    "image": "projects/unscripted_elegance.jpg",
    "tags": [
      "Confidence",
      "Perfection"
    ]
  },
  {
    "name": "THE QUIET MUSE",
    "description": "My cat's gaze held a mysterious calm that I couldn't look away from. Even in stillness, she carried a presence that felt both haunting and beautiful.",
    "image": "projects/the_quite_muse.jpg",
    "tags": [
      "Cat"
    ]
  },
  {
    "name": "CONFIDENCE IN A SUIT",
    "description": "I photographed this moment because his smirk carried a mix of playfulness and quiet strength. The red and yellow glow behind him gave the portrait an unexpected edge.",
    "image": "projects/confidence_in_a_suit.jpg",
    "tags": [
      "Confidence",
      "Suit"
    ]
  },
  {
    "name": "LIGHTED GATHERING",
    "description": "A glowing kubo at Plaza, open to everyone under its light. I captured it because even without walls, it felt like a home where people gather and share the night.",
    "image": "projects/lighted_gathering.jpg",
    "tags": [
      "Kubo",
      "Plaza",
      "Night",
      "Light"
    ]
  },
  {
    "name": "MORNING WALK",
    "description": "I captured this moment because the quiet trail showed the beauty of starting the day in motion. The person walking added life to the stillness of the scene.",
    "image": "projects/morning_walk.jpg",
    "tags": [
      "Scenery",
      "Trails"
    ]
  },
  {
    "name": "PERSPECTIVE",
    "description": "I captured this because I liked how the frame felt unplanned yet intentional. Sometimes random angles tell the most honest stories.",
    "image": "projects/perspective.jpg",
    "tags": [
      "Perspective",
      "Stories"
    ]
  },
  {
    "name": "LINES AND LIGHTS",
    "description": "I captured this scene because the clean architecture and sharp lines stood out against the soft daylight. It felt like a balance between structure and calm.",
    "image": "projects/lines_and_light.jpg",
    "tags": [
      "Lines",
      "Architecture",
      "Structure"
    ]
  },
  {
    "name": "SCENES OF DAILY LIFE",
    "description": "I took this picture because it shows the ordinary view I often see, but rarely pay attention to. It reminds me that even simple moments in familiar places are worth noticing.",
    "image": "projects/scenes_of_daily_life.jpg",
    "tags": [
      "View",
      "Scene"
    ]
  },
  {
    "name": "WHISPER OF THE HILLS",
    "description": "I captured this because the bright green felt calming, like the trees were wrapping me in quiet. It made me pause and appreciate how refreshing nature can be.",
    "image": "projects/whispers_of_the_hills.jpg",
    "tags": [
      "Hill",
      "Nature"
    ]
  },
  {
    "name": "Chromatic Pause",
    "description": "In auto mode, the gas station lights appeared harsh and uneven. With manual settings, I balanced the exposure to highlight the colors more softly — turning an ordinary stop into a cinematic scene.",
    "image": "projects/chromatic_pauseV2.jpg",
    "tags": [
      "auto mode"
    ]
  },
  {
    "name": "Lighted Gathering",
    "description": "The auto shot captured the brightness but missed the mood. Manual control helped me balance the warm tones, showing how light connects people in small, beautiful ways.",
    "image": "projects/lighted_gatheringV2.jpg",
    "tags": [
      "auto mode"
    ]
  },
  {
    "name": "The Quiet Muse",
    "description": "My first capture in auto mode lost the subtle tones of her fur. Through manual mode, I adjusted the light to reveal her calm expression and the quiet strength in her gaze",
    "image": "projects/the_quite_museV2.jpg",
    "tags": [
      "auto mode"
    ]
  },
  {
    "name": "Confidence in a Suit",
    "description": "In auto mode, the background lights overpowered his face. Retaking it manually gave me control over brightness and focus, allowing his confidence to stand out naturally.",
    "image": "projects/confidence_in_a_suitV2.jpg",
    "tags": [
      "auto mode"
    ]
  },
  {
    "name": "Unscripted Elegance",
    "description": "The auto version looked flat, missing the emotion of the moment. Using manual settings, I fine-tuned the light and shadows to bring out the softness and spontaneity I wanted to show.",
    "image": "projects/unscripted_eleganceV2.jpg",
    "tags": [
      "auto mode"
    ]
  },
  {
    "name": "Morning Walk",
    "description": "In auto mode, the morning light looked too bright and washed out. Through manual adjustments, I softened the exposure to reflect the calm and peace of that early walk.",
    "image": "projects/morning_walkV2.jpg",
    "tags": [
      "auto mode"
    ]
  },
  {
    "name": "Scenes of Daily Life",
    "description": "In auto mode, the details were there, but the feeling was not. Using manual settings, I brought warmth and focus to the ordinary — making the everyday feel worth noticing.",
    "image": "projects/scenes_of_daily_lifeV2.jpg",
    "tags": [
      "auto mode"
    ]
  },
  {
    "name": "Perspective",
    "description": "My first shot didn’t capture the depth I was aiming for. With manual mode, I adjusted focus and aperture to emphasize the angle and lines that tell the story of perspective.",
    "image": "projects/perspectiveV2.jpg",
    "tags": [
      "auto mode"
    ]
  },
  {
    "name": "Lines and Light",
    "description": "The auto capture looked overexposed, losing the balance between geometry and glow. Retaking it manually helped me define the structure and let the light flow naturally.",
    "image": "projects/lines_and_lightV2.jpg",
    "tags": [
      "auto mode"
    ]
  },
  {
    "name": "Balanced Glow",
    "description": "Symmetrical Balance\nThe photo shows two identical lamp posts centered in the frame. The symmetry makes the image feel neat, calm, and pleasing to look at.",
    "image": "projects/balanced_glow.jpg",
    "tags": [
      "COMPOSITION"
    ]
  },
  {
    "name": "Through The Bars",
    "description": "Frame Within a Frame\nThe metal bars act as a natural frame, leading the viewer’s eyes toward what’s behind them. It makes the photo feel like you’re peeking into another space.",
    "image": "projects/through_the_bars.jpg",
    "tags": [
      "COMPOSITION"
    ]
  },
  {
    "name": "Centered Fountain",
    "description": "Symmetrical Composition\nThe fountain stands right at the center of the frame, creating balance and harmony. Its placement gives the photo a peaceful and steady atmosphere.",
    "image": "projects/centered_fountain.jpg",
    "tags": [
      "COMPOSITION"
    ]
  },
  {
    "name": "Tented Path",
    "description": "Leading Lines\nThe colorful tents form diagonal lines that guide the viewer’s eyes toward the middle of the frame. The strong colors and direction make the image feel dynamic and focused.",
    "image": "projects/tented_path.jpg",
    "tags": [
      "COMPOSITION"
    ]
  },
  {
    "name": "The Painter’s Moment",
    "description": "Framing / Depth Focus\nThis photo captures a man painting, with the background softly blurred. The framing emphasizes the subject and tells a quiet story of creativity in the middle of the city.",
    "image": "projects/the_painter_moment.jpg",
    "tags": [
      "COMPOSITION"
    ]
  },
  {
    "name": "Night Hustle",
    "description": "Under the city lights, vendors continue their routine, selling goods late into the night. The photo captures the persistence of Cebu’s street workers — proof that the city never truly sleeps.",
    "image": "projects/night_hustle.jpg",
    "tags": [
      "Street Photography"
    ]
  },
  {
    "name": "Sharing Warmth",
    "description": "Amid the quiet night, a candle seller takes a short break to share food. It’s a small, tender moment that reflects compassion and companionship even in the simplest corners of the street",
    "image": "projects/sharing_warmth.jpg",
    "tags": [
      "Street Photography"
    ]
  },
  {
    "name": "Rider's Rush",
    "description": "A GrabFood driver waits beside the road, ready for the next delivery. His presence represents the modern rhythm of city life — fast, digital, yet still deeply human in its drive to serve.",
    "image": "projects/riders_rush.jpg",
    "tags": [
      "Street Photography"
    ]
  },
  {
    "name": "Ice Candy Calls",
    "description": "A man shouts what he’s selling, his voice echoing through the night. His determined expression reflects the hardworking spirit of Cebu’s street vendors who keep going despite the late hour.",
    "image": "projects/ice_candy_calls.jpg",
    "tags": [
      "Street Photography"
    ]
  },
  {
    "name": "Light of Resilience",
    "description": "Captured in the afternoon glow, a parol hangs proudly — a symbol of hope and festivity. It reminds us that even after long hours of work, Filipinos still find joy and pride in simple traditions.",
    "image": "projects/light_of_resilience.jpg",
    "tags": [
      "Street Photography"
    ]
  },
  {
    "name": "Carrying Through",
    "description": "Two vendors help each other carry their goods while crossing the street. The image shows unity and perseverance — a quiet act of teamwork in the daily flow of city life.",
    "image": "projects/carrying_through.jpg",
    "tags": [
      "Street Photography"
    ]
  }
];

let currentIndex = 0;

// DOM Elements
const grid = document.getElementById('portfolioGrid');
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modalImg');
const modalTitle = document.getElementById('modalTitle');
const modalDesc = document.getElementById('modalDesc');
const modalTags = document.getElementById('modalTags');
const modalClose = document.getElementById('modalClose');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const navLinks = document.getElementById('navLinks');

// Render portfolio grid
function renderPortfolio() {
  projects.forEach((project, idx) => {
    const item = document.createElement('div');
    item.className = 'portfolio-item';
    item.innerHTML = `
      <img src="${project.image}" alt="${project.name}" loading="lazy">
      <div class="portfolio-overlay">
        <h3><i class="fas fa-star"></i> ${project.name}</h3>
        <p>${project.description.substring(0, 100)}...</p>
      </div>
    `;
    item.addEventListener('click', () => openModal(idx));
    grid.appendChild(item);
  });
}

// Modal functions
function openModal(idx) {
  currentIndex = idx;
  updateModal();
  modal.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  modal.classList.remove('active');
  document.body.style.overflow = 'auto';
}

function updateModal() {
  const project = projects[currentIndex];
  modalImg.src = project.image;
  modalImg.alt = project.name;
  modalTitle.innerHTML = `<i class="fas fa-star"></i> ${project.name}`;
  modalDesc.textContent = project.description;
  modalTags.innerHTML = project.tags.map(tag => 
    `<span class="tag">${tag}</span>`
  ).join('');
}

// Event listeners
modalClose.addEventListener('click', closeModal);

modal.addEventListener('click', (e) => {
  if (e.target === modal) closeModal();
});

prevBtn.addEventListener('click', () => {
  currentIndex = (currentIndex - 1 + projects.length) % projects.length;
  updateModal();
});

nextBtn.addEventListener('click', () => {
  currentIndex = (currentIndex + 1) % projects.length;
  updateModal();
});

// Mobile menu toggle
mobileMenuBtn.addEventListener('click', () => {
  navLinks.classList.toggle('active');
  const icon = mobileMenuBtn.querySelector('i');
  if (navLinks.classList.contains('active')) {
    icon.classList.remove('fa-bars');
    icon.classList.add('fa-times');
  } else {
    icon.classList.remove('fa-times');
    icon.classList.add('fa-bars');
  }
});

// Close mobile menu on link click
navLinks.querySelectorAll('a').forEach(link => {
  link.addEventListener('click', () => {
    navLinks.classList.remove('active');
    const icon = mobileMenuBtn.querySelector('i');
    icon.classList.remove('fa-times');
    icon.classList.add('fa-bars');
  });
});

// Smooth scroll
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function(e) {
    e.preventDefault();
    const target = document.querySelector(this.getAttribute('href'));
    if (target) {
      const navHeight = document.querySelector('nav').offsetHeight;
      const targetPosition = target.offsetTop - navHeight;
      window.scrollTo({
        top: targetPosition,
        behavior: 'smooth'
      });
    }
  });
});

// Keyboard navigation for modal
document.addEventListener('keydown', (e) => {
  if (!modal.classList.contains('active')) return;
  
  if (e.key === 'Escape') {
    closeModal();
  } else if (e.key === 'ArrowLeft') {
    currentIndex = (currentIndex - 1 + projects.length) % projects.length;
    updateModal();
  } else if (e.key === 'ArrowRight') {
    currentIndex = (currentIndex + 1) % projects.length;
    updateModal();
  }
});

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
  renderPortfolio();
});

// Add scroll animation for nav
let lastScroll = 0;
const nav = document.querySelector('nav');

window.addEventListener('scroll', () => {
  const currentScroll = window.pageYOffset;
  
  if (currentScroll <= 0) {
    nav.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.3)';
  } else {
    nav.style.boxShadow = '0 8px 30px rgba(0, 0, 0, 0.5)';
  }
  
  lastScroll = currentScroll;
});